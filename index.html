<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Trading Assistant Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1em;
        }

        .content {
            padding: 30px;
        }

        .controls {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            align-items: center;
        }

        .input-group {
            flex: 1;
            min-width: 200px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 600;
        }

        input, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #667eea;
        }

        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            margin-top: 28px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .auto-refresh-controls {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            border: 2px solid #e0e0e0;
        }

        .refresh-status {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            font-weight: 600;
            color: #333;
        }

        .refresh-status span:first-child {
            font-size: 1.1em;
        }

        #countdown {
            color: #667eea;
            font-family: 'Courier New', monospace;
            font-size: 1em;
        }

        .refresh-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            align-items: center;
        }

        .secondary-btn {
            background: white;
            color: #667eea;
            border: 2px solid #667eea;
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 0.95em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .secondary-btn:hover {
            background: #667eea;
            color: white;
            transform: translateY(-1px);
        }

        .secondary-btn.active {
            background: #10b981;
            border-color: #10b981;
            color: white;
        }

        #refreshInterval {
            flex: 1;
            min-width: 150px;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #667eea;
            font-size: 1.2em;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .prediction-card {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            border-left: 5px solid #667eea;
        }

        .prediction-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .direction {
            font-size: 2em;
            font-weight: bold;
            padding: 10px 20px;
            border-radius: 8px;
            display: inline-block;
        }

        .direction.up {
            background: #d4edda;
            color: #155724;
        }

        .direction.down {
            background: #f8d7da;
            color: #721c24;
        }

        .direction.neutral {
            background: #fff3cd;
            color: #856404;
        }

        .confidence {
            font-size: 1.5em;
            color: #667eea;
            font-weight: bold;
        }

        .reasoning {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }

        .reasoning h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .reasoning-item {
            padding: 12px;
            margin: 10px 0;
            background: #f8f9fa;
            border-radius: 6px;
            border-left: 3px solid #667eea;
        }

        .reasoning-item strong {
            color: #667eea;
        }

        .chart-container {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .metric-card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .metric-value {
            font-size: 1.8em;
            font-weight: bold;
            color: #667eea;
        }

        .metric-label {
            color: #666;
            margin-top: 5px;
            font-size: 0.9em;
        }

        .error {
            background: #f8d7da;
            color: #721c24;
            padding: 20px;
            border-radius: 8px;
            border-left: 5px solid #dc3545;
        }

        .disclaimer {
            background: #fff3cd;
            color: #856404;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìà AI Day Trading Assistant</h1>
            <p>NASDAQ Intraday Analysis - 2-Minute to Hourly Predictions with Reasoning</p>
        </div>

        <div class="content">
            <div class="controls">
                <div class="input-group">
                    <label for="ticker">NASDAQ Stock</label>
                    <select id="ticker">
                        <optgroup label="Tech Giants">
                            <option value="AAPL" selected>AAPL - Apple</option>
                            <option value="MSFT">MSFT - Microsoft</option>
                            <option value="GOOGL">GOOGL - Google</option>
                            <option value="AMZN">AMZN - Amazon</option>
                            <option value="META">META - Meta (Facebook)</option>
                            <option value="NVDA">NVDA - NVIDIA</option>
                            <option value="TSLA">TSLA - Tesla</option>
                        </optgroup>
                        <optgroup label="High Volume Day Trading">
                            <option value="AMD">AMD - Advanced Micro Devices</option>
                            <option value="NFLX">NFLX - Netflix</option>
                            <option value="INTC">INTC - Intel</option>
                            <option value="CSCO">CSCO - Cisco</option>
                            <option value="ADBE">ADBE - Adobe</option>
                            <option value="AVGO">AVGO - Broadcom</option>
                            <option value="QCOM">QCOM - Qualcomm</option>
                            <option value="TXN">TXN - Texas Instruments</option>
                        </optgroup>
                        <optgroup label="Volatile/Day Trading Favorites">
                            <option value="COIN">COIN - Coinbase</option>
                            <option value="ROKU">ROKU - Roku</option>
                            <option value="SHOP">SHOP - Shopify</option>
                            <option value="SQ">SQ - Block (Square)</option>
                            <option value="PYPL">PYPL - PayPal</option>
                            <option value="SNAP">SNAP - Snap Inc</option>
                            <option value="UBER">UBER - Uber</option>
                            <option value="ABNB">ABNB - Airbnb</option>
                        </optgroup>
                        <optgroup label="Biotech/Pharma">
                            <option value="MRNA">MRNA - Moderna</option>
                            <option value="BNTX">BNTX - BioNTech</option>
                            <option value="GILD">GILD - Gilead Sciences</option>
                            <option value="VRTX">VRTX - Vertex Pharmaceuticals</option>
                        </optgroup>
                        <optgroup label="ETFs">
                            <option value="QQQ">QQQ - NASDAQ-100 ETF</option>
                            <option value="TQQQ">TQQQ - 3x NASDAQ Bull</option>
                            <option value="SQQQ">SQQQ - 3x NASDAQ Bear</option>
                        </optgroup>
                    </select>
                </div>
                <div class="input-group">
                    <label for="timeframe">Timeframe</label>
                    <select id="timeframe">
                        <optgroup label="Intraday (Day Trading)">
                            <option value="1d|2m" selected>Today - 2 Min</option>
                            <option value="1d|5m">Today - 5 Min</option>
                            <option value="1d|15m">Today - 15 Min</option>
                            <option value="5d|5m">5 Days - 5 Min</option>
                            <option value="5d|15m">5 Days - 15 Min</option>
                            <option value="1d|30m">Today - 30 Min</option>
                            <option value="5d|30m">5 Days - 30 Min</option>
                            <option value="1d|60m">Today - 1 Hour</option>
                        </optgroup>
                        <optgroup label="Swing Trading">
                            <option value="1mo|1d">1 Month - Daily</option>
                            <option value="3mo|1d">3 Months - Daily</option>
                            <option value="6mo|1d">6 Months - Daily</option>
                            <option value="1y|1d">1 Year - Daily</option>
                        </optgroup>
                    </select>
                </div>
                <button id="analyzeBtn" onclick="analyze()">Analyze Stock</button>
            </div>

            <div class="auto-refresh-controls">
                <div class="refresh-status">
                    <span id="refreshStatus">Auto-refresh: OFF</span>
                    <span id="countdown"></span>
                </div>
                <div class="refresh-buttons">
                    <button id="toggleAutoRefresh" onclick="toggleAutoRefresh()" class="secondary-btn">
                        Enable Auto-Refresh
                    </button>
                    <button onclick="analyze()" class="secondary-btn">
                        Refresh Now
                    </button>
                    <select id="refreshInterval" onchange="updateRefreshInterval()">
                        <option value="30">Every 30 seconds</option>
                        <option value="60" selected>Every 1 minute</option>
                        <option value="120">Every 2 minutes</option>
                        <option value="300">Every 5 minutes</option>
                        <option value="600">Every 10 minutes</option>
                    </select>
                </div>
            </div>

            <div id="results"></div>

            <div class="disclaimer">
                <strong>‚ö†Ô∏è Educational Disclaimer:</strong> This is a demo for educational purposes only. 
                This tool should NOT be used for actual trading decisions. Day trading is extremely risky 
                and most day traders lose money. Always do your own research and consult with financial 
                professionals before making investment decisions. Past performance does not guarantee future results.
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.11.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0"></script>
    <script src="app.js"></script>
</body>
</html>
